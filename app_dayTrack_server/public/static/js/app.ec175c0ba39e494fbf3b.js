webpackJsonp([0],{"/dpG":function(t,e){},"0m9o":function(t,e){},"2OIH":function(t,e){},"4Cq4":function(t,e){},"5a+H":function(t,e){},"96EL":function(t,e){},EiD5:function(t,e){},FBcr:function(t,e){},Jfnq:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("7+uW"),i={name:"NavbarLink",props:{link:{username:String,title:String,icon:String,url:String}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("router-link",{staticClass:"title text-light is-link",attrs:{to:t.link.url}},[s("span",{staticClass:"is-name"},[t._v(" "+t._s(t.link.username)+" ")]),t._v(" "),s("span",{staticClass:"is-title"},[t._v(" "+t._s(t.link.title)+" ")]),t._v(" "),s("i",{class:t.link.icon})])},staticRenderFns:[]};var a=s("VU/8")(i,o,!1,function(t){s("y1xT")},null,null).exports,r={data:function(){return{contentState:!1,session_local:this.session,burgerState:"bars",links_non_user:[{title:"about",url:"/about",icon:"fab fa-uikit"},{title:"login",url:"/login",icon:"fab fa-uikit"},{title:"register",url:"/register",icon:"fab fa-uikit"}],links_user:[{title:"logout",url:"/logout",icon:"fab fa-uikit"}],links_current:[]}},props:{session:Object},computed:{isLoggedIn:function(){return this.session_local.active?this.user_login():this.user_logout(),this.session_local.active},username:function(){return this.user_name()}},methods:{toggle:function(t){this.contentState?this.close():this.open()},open:function(t){this.contentState=!0,this.burgerState="cross",setTimeout(function(){document.addEventListener("click",this.close)}.bind(this),200)},close:function(t){this.contentState=!1,this.burgerState="bars",document.removeEventListener("click",this.close)},click:function(t){this.contentState&&this.close()},user_name:function(){return void 0!==this.session_local.user?this.session_local.user.name:"none"},user_login:function(){this.links_current=this.links_user},user_logout:function(){this.links_current=this.links_non_user},user_navbar:function(){return{username:this.username,title:"",url:"/account",icon:"fab fa-uikit"}}},components:{"navbar-link":a}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{attrs:{id:"navbar"}},[s("div",{staticClass:"toggle hover-scale",class:t.burgerState,on:{click:t.toggle}},[s("span",{staticClass:"span-1"}),t._v(" "),s("span",{staticClass:"span-2"}),t._v(" "),s("span",{staticClass:"span-3"})]),t._v(" "),s("router-link",{staticClass:"bar-logo colour-text-light",attrs:{to:"/"}},[s("svg",{staticClass:"colour-navbar",staticStyle:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"1.4"},attrs:{height:"100%",viewBox:"0 0 30 60",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/"}},[s("path",{staticClass:"colour-navbar",attrs:{id:"navbar_logo_bg",d:"M30,0.027l-30,-0.027l0,44.077l3.706,4.089l4.822,1.338l1.117,7.145l6.125,3.31l14.23,0.059l0,-59.991Z"}}),t._v(" "),s("path",{staticClass:"text-light",staticStyle:{"fill-rule":"nonzero"},attrs:{id:"navbar_logo",d:"M15.77,59.959c-3.58,-0.233 -9.379,-1.663 -9.21,-9.738c-4.373,-0.662 -6.56,-3.061 -6.56,-7.196c0,-0.874 0.093,-1.815 0.278,-2.822l1.63,-9.145c1.193,-6.705 5.513,-10.058 12.961,-10.058c6.414,0 9.621,2.491 9.621,7.474c0,0.795 -0.079,1.657 -0.238,2.584l-1.63,9.145c-0.53,3.074 -1.624,5.44 -3.28,7.096c-1.657,1.657 -3.969,2.657 -6.938,3.002c-0.06,6.66 3.944,6.408 5.746,6.408l0,0.007l11.85,0.026l0,3.265l-11.85,-0.018l0,0.003c-0.367,0 -2.302,-0.016 -2.38,-0.033Zm-5.036,-15.662c1.326,0 2.386,-0.331 3.181,-0.993c0.795,-0.663 1.352,-1.882 1.67,-3.658l1.431,-8.031c0.079,-0.504 0.119,-0.954 0.119,-1.352c0,-2.067 -1.113,-3.101 -3.339,-3.101c-2.73,0.053 -4.347,1.538 -4.851,4.453l-1.391,8.031c-0.106,0.636 -0.159,1.299 -0.159,1.988c0,1.776 1.113,2.663 3.339,2.663Z"}})])]),t._v(" "),s("div",{staticClass:"bar-fill-right"}),t._v(" "),s("div",{staticClass:"content",class:{"is-active":t.contentState},on:{click:t.click}},[t.isLoggedIn?s("navbar-link",{attrs:{link:t.user_navbar()}}):t._e(),t._v(" "),t._l(t.links_current,function(t){return s("navbar-link",{key:t.id,attrs:{link:t}})})],2)],1)},staticRenderFns:[]};var c=s("VU/8")(r,u,!1,function(t){s("oFXQ")},null,null).exports;s("yy6L");var l={name:"cPanel",props:{no_split:Boolean}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"panel center-auto-h width-90 shadow"},[s("header",{class:{"no-split":t.no_split}},[s("p",{staticClass:"title text-uppercase text-blur"},[t._t("header")],2),t._v(" "),t._t("options")],2),t._v(" "),s("main",[t._t("default")],2),t._v(" "),t._t("no-margin"),t._v(" "),s("footer",[s("p",{staticClass:"text"},[t._t("footer")],2)])],2)},staticRenderFns:[]};var p=s("VU/8")(l,d,!1,function(t){s("SvJb")},null,null).exports;s("yy6L");var m={name:"cPopUp",data:function(){return{show:!1}},props:{onClick:Function},methods:{clicked:function(){void 0!==this.onClick&&this.onClick()}},mounted:function(){document.body.appendChild(this.$refs.popup)},components:{"c-panel":p}},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"popup",staticClass:"test popup-fill",staticStyle:{"z-index":"50"}},[s("div",{staticClass:"fill-all shade",on:{click:t.clicked}}),t._v(" "),s("div",{staticClass:"panel center-auto-h width-95 shadow",staticStyle:{position:"relative","z-index":"10"}},[s("header",[s("p",{staticClass:"title text-uppercase text-med"},[t._t("header")],2),t._v(" "),t._t("options")],2),t._v(" "),s("main",[t._t("default")],2),t._v(" "),s("footer",[s("p",{staticClass:"text"},[t._t("footer")],2)])])])},staticRenderFns:[]};var v=s("VU/8")(m,_,!1,function(t){s("NcW/")},"data-v-7864934d",null).exports,f={name:"cNotification",props:{session:Object},data:function(){return{session_local:this.session,current_message:Object}},computed:{show_message:function(){return this.session_local.hasMessages&&this.showMessage(),this.session_local.hasMessages},numberOfMessages:function(){return this.session_local.messageCount>1?this.session_local.messageCount.toString():""},progressBar:function(){return 100===this.current_message.progress&&setTimeout(this.closeMessage,300),this.current_message.progress+"%"},getClasses:function(){var t=[];return t.push(this.current_message.isType),t}},methods:{showMessage:function(t){this.current_message=this.session_local.messages[0]},closeMessage:function(t){this.$message.remove(this.current_message)}},components:{"c-popup":v}},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.show_message?s("c-popup",{class:t.getClasses,attrs:{onClick:t.closeMessage}},[s("p",{attrs:{slot:"header"},slot:"header"},[t._v(" "+t._s(t.current_message.title)+" ")]),t._v(" "),s("p",{staticClass:"text text-small number ",attrs:{slot:"options"},slot:"options"},[t._v(" "+t._s(t.numberOfMessages)+" ")]),t._v(" "),s("p",{staticClass:"text"},[t._v(t._s(t.current_message.message))])]):t._e()},staticRenderFns:[]};var g=s("VU/8")(f,h,!1,function(t){s("0m9o")},null,null).exports;s("4Cq4"),s("dM7N"),s("EiD5");var w={name:"App",created:function(){this.$request.set_SecureKey(this.$auth.session.token)},components:{"nav-bar":c,notification:g}},b={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("notification",{attrs:{session:this.$message.session}}),this._v(" "),e("keep-alive",[e("nav-bar",{attrs:{session:this.$auth.session}})],1),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var y=s("VU/8")(w,b,!1,function(t){s("rdCE")},null,null).exports,C=s("/ocq"),x={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n\tAbout\n")])},staticRenderFns:[]};var k=s("VU/8")({name:"About",data:function(){return{msg:""}}},x,!1,function(t){s("5a+H")},"data-v-1c704579",null).exports,$={name:"AccountInput",props:{Input:{Name:Object,Email:Object,Password:Object}},computed:{NameShow:function(){return!(void 0===this.Input.Name||!this.Input.Name.show)},EmailShow:function(){return!(void 0===this.Input.Email||!this.Input.Email.show)},PasswordShow:function(){return!(void 0===this.Input.Password||!this.Input.Password.show)}}},S={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"account-input"},[t.NameShow?s("div",{staticClass:"field"},[s("p",{staticClass:"text label"},[t._v("Name:")]),t._v(" "),s("input",{staticClass:"text",attrs:{type:"string",name:"name",placeholder:"Name",required:t.Input.Name.isRequired},domProps:{value:t.Input.Name.value}})]):t._e(),t._v(" "),t.EmailShow?s("div",{staticClass:"field"},[s("p",{staticClass:"text label"},[t._v("Email:")]),t._v(" "),s("input",{staticClass:"text",attrs:{type:"email",name:"email",placeholder:"Email",required:t.Input.Email.isRequired},domProps:{value:t.Input.Email.value}})]):t._e(),t._v(" "),t.PasswordShow?s("div",{staticClass:"field"},[s("p",{staticClass:"text label"},[t._v("Password:")]),t._v(" "),s("input",{staticClass:"text",attrs:{type:"password",name:"password",placeholder:"Password",required:t.Input.Password.isRequired},domProps:{value:t.Input.Password.value}})]):t._e()])},staticRenderFns:[]};var E=s("VU/8")($,S,!1,function(t){s("oAn0")},null,null).exports,T={name:"AccountText",props:{Input:{Name:Object,Email:Object,Password:Object}},computed:{NameShow:function(){return!(void 0===this.Input.Name||!this.Input.Name.show)},EmailShow:function(){return!(void 0===this.Input.Email||!this.Input.Email.show)},PasswordShow:function(){return!(void 0===this.Input.Password||!this.Input.Password.show)},getPassword:function(){return"hidden"}}},q={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"account-text"},[t.NameShow?s("div",{staticClass:"field"},[s("p",{staticClass:"text label"},[t._v("Name:")]),t._v(" "),s("p",{staticClass:"text account-text-item"},[t._v("\n\t\t\t"+t._s(t.Input.Name.value)+"\n\t\t")])]):t._e(),t._v(" "),t.EmailShow?s("div",{staticClass:"field"},[s("p",{staticClass:"text label"},[t._v("Email:")]),t._v(" "),s("p",{staticClass:"text account-text-item"},[t._v("\n\t\t\t"+t._s(t.Input.Email.value)+"\n\t\t")])]):t._e(),t._v(" "),t.PasswordShow?s("div",{staticClass:"field"},[s("p",{staticClass:"text label"},[t._v("Password:")]),t._v(" "),s("p",{staticClass:"text account-text-item"},[t._v("\n\t\t\t"+t._s(t.getPassword)+"\n\t\t")])]):t._e()])},staticRenderFns:[]};var I=s("VU/8")(T,q,!1,function(t){s("96EL")},"data-v-d1c0f190",null).exports,R={name:"cButton",props:{onClick:Function},methods:{clicked:function(){void 0!==this.onClick&&this.onClick()}}},N={render:function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"button fade-in",on:{click:this.clicked}},[e("p",{staticClass:"text text-light"},[this._t("default",[this._v(" \n\t\t \tSubmit \n\t\t")])],2),this._v(" "),e("span",{staticClass:"loading"}),this._v(" "),e("span",{staticClass:"loading"}),this._v(" "),e("span",{staticClass:"loading"})])},staticRenderFns:[]};var P=s("VU/8")(R,N,!1,function(t){s("Ql70")},null,null).exports,D={name:"cAccountOptions",data:function(){return{show_import:!1,import_waiting:!1,import_success:!1}},methods:{closeModal:function(){this.show_import=!1,this.import_waiting=!1},showModal:function(){this.show_import=!0},onImport:function(t){if(void 0!==t){var e=this;e.import_waiting=!0,this.$request.request_url_form(t,function(t,s){e.reset_button(),e.closeModal(),t?e.$message.send({isType:"error",title:"error",message:t.message}):(e.import_success=!0,setTimeout(function(){e.$message.send({isType:"",title:"Result",message:s.message})},1e3))})}},onExport:function(){},reset_button:function(){var t=this;setTimeout(function(){t.import_waiting=!1,t.import_success=!1},1e3)}},components:{"c-button":P,"c-panel":p,"c-popup":v}},A={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.show_import?s("c-popup",{attrs:{onClick:t.closeModal}},[s("div",{attrs:{slot:"header"},slot:"header"},[t._v("\n\t\t\tImport\n\t\t")]),t._v(" "),s("p",{staticClass:"text"},[t._v(" Add json items to this account.")]),t._v(" "),s("br"),t._v(" "),s("form",{staticClass:"form",attrs:{action:"/api/transaction/import",enctype:"multipart/form-data",method:"POST"},on:{submit:function(e){return e.preventDefault(),t.onImport(e)}}},[s("div",{staticClass:"field"},[s("div",{staticClass:"flex-row flex-row-between"},[s("p",{staticClass:"text label"},[t._v("File:")]),t._v(" "),s("input",{staticClass:"button1 text input-file text-light1",attrs:{type:"file",name:"jsonUpload",placeholder:"File",required:"true"}})])]),t._v(" "),s("div",{staticClass:"flex-row flex-row-between"},[s("c-button",{attrs:{type:"button",onClick:t.closeModal}},[t._v("\n\t\t\t\t\tClose\n\t\t\t\t")]),t._v(" "),s("c-button",{class:{"is-loading":t.import_waiting,"is-success":t.import_success},attrs:{type:"submit",onClick:t.onImport}},[t._v("\n\t\t\t\t\tSend\n\t\t\t\t")])],1)])]):t._e(),t._v(" "),s("c-panel",[s("div",{attrs:{slot:"header"},slot:"header"},[t._v("\n\t\t\tOptions\n\t\t")]),t._v(" "),s("div",{staticClass:"flex-row flex-row-between"},[s("p",{staticClass:"label"},[t._v("Transactions:")]),t._v(" "),s("c-button",{staticClass:"colour-yellow",attrs:{type:"button",onClick:t.showModal}},[t._v("\n\t\t\t\tImport\n\t\t\t")]),t._v(" "),s("c-button",{staticClass:"colour-yellow",attrs:{type:"button",onClick:t.onExport}},[t._v("\n\t\t\t\tExport\n\t\t\t")])],1)])],1)},staticRenderFns:[]};var M={name:"Account",data:function(){return{isEditing:!1,button_undo_label:"edit",waiting_update:!1,waiting_delete:!1,show_delete:!1,AccountInfo:{Name:{show:!0,isRequired:!0,value:"test"},Email:{show:!0,isRequired:!0,value:"test@test.com"},Password:{show:!0,isRequired:!0,value:"password"}}}},methods:{onEdit:function(){this.isEditing=!this.isEditing,this.button_undo_label=this.isEditing?"undo":"edit"},showDelete:function(){this.show_delete=!0},closeDelete:function(){this.show_delete=!1},onSubmit:function(t){var e=this;this.waiting_update=!0,this.$request.request_url_form(t,function(t,s){if(t)return e.reset_button(),void e.$auth.user_fail(function(){e.$message.send({isType:"error",title:"error",message:t.message})});e.reset_button(),e.$auth.user_success(s.token,function(){setTimeout(function(){e.$router.push("/"),e.$request.set_SecureKey(s.token),e.$message.send({isType:"success",title:"success",message:s.message})},1e3)})})},onDelete:function(t){var e=this,s={url:"/api/account/?_method=DELETE",method:"POST",body:""};this.waiting_delete=!0,this.$request.request_url(s,function(t,s){e.reset_button(),e.closeDelete(),t?e.$message.send({isType:"error",title:"error",message:t.message}):e.$auth.logout_success(function(){e.$request.set_SecureKey(""),e.$quid_bg.force_clear(),e.$router.push("/"),e.$message.send({isType:"success",title:"success",message:s.message})})})},reset_button:function(){var t=this;setTimeout(function(){t.waiting_update=!1,t.waiting_delete=!1},2e3)}},components:{"c-account-input":E,"c-account-text":I,"c-account-opts":s("VU/8")(D,A,!1,function(t){s("yB1J")},"data-v-977b057e",null).exports,"c-button":P,"c-panel":p,"c-popup":v}},O={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.show_delete?s("c-popup",{attrs:{onClick:t.closeDelete}},[s("div",{attrs:{slot:"header"},slot:"header"},[t._v("\n\t\t\tDelete Account\n\t\t")]),t._v(" "),s("p",{staticClass:"text"},[t._v(" Are you sure you want to delete ")]),t._v(" "),s("p",{staticClass:"text"},[t._v(" this account? ")]),t._v(" "),s("br"),t._v(" "),s("div",{staticClass:"flex-row flex-row-between"},[s("c-button",{attrs:{onClick:t.closeDelete,type:"button"}},[t._v("\n\t\t\t\tClose\n\t\t\t")]),t._v(" "),s("c-button",{staticClass:"colour-negative-bg",attrs:{type:"button",onClick:t.onDelete}},[t._v("\n\t\t\t\tDelete\n\t\t\t")])],1)]):t._e(),t._v(" "),s("c-panel",[s("div",{attrs:{slot:"header"},slot:"header"},[t._v("\n\t\t\tAccount\n\t\t")]),t._v(" "),s("form",{staticClass:"form",attrs:{action:"/api/account/?_method=PUT",method:"POST"},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[t.isEditing?s("c-account-input",{attrs:{Input:t.AccountInfo}}):s("c-account-text",{attrs:{Input:t.AccountInfo}}),t._v(" "),s("div",{staticClass:"flex-row flex-row-between",class:{"is-edit":!t.isEditing}},[s("c-button",{staticClass:"colour-yellow",attrs:{onClick:t.onEdit,type:"button"}},[t._v("\n\t\t\t\t\t"+t._s(t.button_undo_label)+"\n\t\t\t\t")]),t._v(" "),s("c-button",{directives:[{name:"show",rawName:"v-show",value:t.isEditing,expression:"isEditing"}],staticClass:"colour-positive-bg",class:{"is-loading":t.waiting_update},attrs:{type:"submit"}},[t._v("\n\t\t\t\t\tUpdate \n\t\t\t\t")]),t._v(" "),s("c-button",{directives:[{name:"show",rawName:"v-show",value:t.isEditing,expression:"isEditing"}],staticClass:"colour-negative-bg",class:{"is-loading":t.waiting_delete},attrs:{type:"button",onClick:t.showDelete}},[t._v("\n\t\t\t\t\tDelete\n\t\t\t\t")])],1)],1)]),t._v(" "),s("c-account-opts")],1)},staticRenderFns:[]};var F=s("VU/8")(M,O,!1,function(t){s("/dpG")},"data-v-f79e587a",null).exports,L={name:"Login",data:function(){return{waiting:!1,success:!1,error:!1,AccountInfo:{Name:{show:!1,isRequired:!0,value:"test"},Email:{show:!0,isRequired:!0,value:"test@test.com"},Password:{show:!0,isRequired:!0,value:"password"}}}},methods:{onSubmit:function(t){var e=this;this.waiting=!0,this.$request.request_url_form(t,function(t,s){if(t)return e.error=!0,e.reset_button(),void e.$auth.user_fail(function(){e.$message.send({isType:"error",title:"error",message:t.message})});e.success=!0,e.reset_button(),e.$auth.user_success(s.token,function(){setTimeout(function(){e.$router.push("/"),e.$request.set_SecureKey(s.token)},1e3)})})},reset_button:function(){var t=this;setTimeout(function(){t.waiting=!1,t.success=!1,t.error=!1},2e3)}},components:{"c-account-input":E,"c-button":P,"c-panel":p}},U={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("c-panel",[s("div",{attrs:{slot:"header"},slot:"header"},[t._v("\n\t\tAccount Login\n\t")]),t._v(" "),s("form",{staticClass:"form",attrs:{action:"/api/account/login",method:"POST"},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[s("c-account-input",{attrs:{Input:t.AccountInfo}}),t._v(" "),s("c-button",{class:{"is-loading":t.waiting,"is-success":t.success,"is-error":t.error}})],1),t._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[t._v("\n\t\tDont have an account, why not \n\t\t"),s("router-link",{attrs:{to:"/register"}},[t._v("register?")])],1)])},staticRenderFns:[]};var V=s("VU/8")(L,U,!1,function(t){s("FBcr")},null,null).exports,j={name:"LoginDemo",data:function(){return{waiting:!1,success:!1,error:!1,AccountInfo:{Name:{show:!1,isRequired:!1,value:"liveDemo"},Email:{show:!0,isRequired:!0,value:"liveDemo@email.com"},Password:{show:!0,isRequired:!0,value:"liveDemoPassword"}}}},methods:{onSubmit:function(t){var e=this;this.waiting=!0,this.$request.request_url_form(t,function(t,s){if(t)return e.error=!0,e.reset_button(),void e.$auth.user_fail(function(){e.$message.send({isType:"error",title:"error",message:t.message})});e.success=!0,e.reset_button(),e.$auth.user_success(s.token,function(){setTimeout(function(){e.$router.push("/"),e.$request.set_SecureKey(s.token)},1e3)})})},reset_button:function(){var t=this;setTimeout(function(){t.waiting=!1,t.success=!1,t.error=!1},2e3)}},components:{"c-account-input":E,"c-button":P,"c-panel":p}},J={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("c-panel",[s("div",{attrs:{slot:"header"},slot:"header"},[t._v("\n\t\tAccount Demo\n\t")]),t._v(" "),s("form",{staticClass:"form",attrs:{action:"/api/account/login",method:"POST"},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[s("c-account-input",{attrs:{Input:t.AccountInfo}}),t._v(" "),s("c-button",{class:{"is-loading":t.waiting,"is-success":t.success,"is-error":t.error}})],1),t._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[t._v("\n\t\tDont have an account, why not \n\t\t"),s("router-link",{attrs:{to:"/register"}},[t._v("register?")])],1)])},staticRenderFns:[]};var H=s("VU/8")(j,J,!1,function(t){s("csC0")},null,null).exports,B={name:"Logout",data:function(){return{waiting:!1,success:!1,error:!1}},methods:{onSubmit:function(t){var e=this;this.waiting=!0,this.$request.request_url_form(t,function(t,s){if(t)return e.error=!0,e.reset_button(),void e.$auth.logout_fail(function(){e.$message.send({isType:"error",title:"error",message:t.message})});e.success=!0,e.reset_button(),e.$auth.logout_success(function(){e.$request.set_SecureKey(""),e.$message.send({isType:"success",title:"success",message:s.message}),setTimeout(function(){e.$router.push("/")},1e3)})})},reset_button:function(){var t=this;setTimeout(function(){t.waiting=!1,t.success=!1,t.error=!1},2e3)}},components:{"c-button":P,"c-panel":p}},K={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("c-panel",[s("div",{attrs:{slot:"header"},slot:"header"},[t._v("\n\t\tAccount Logout\n\t")]),t._v(" "),s("form",{staticClass:"form",attrs:{action:"/api/account/logout",method:"POST"},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[s("c-button",{class:{"is-loading":t.waiting,"is-success":t.success,"is-error":t.error}},[t._v("\n\t\t\tLogout \n\t\t")])],1),t._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"})])},staticRenderFns:[]};var Q=s("VU/8")(B,K,!1,function(t){s("gyhV")},null,null).exports,z={name:"Register",data:function(){return{waiting:!1,success:!1,error:!1,AccountInfo:{Name:{show:!0,isRequired:!0,value:"test"},Email:{show:!0,isRequired:!0,value:"test@test.com"},Password:{show:!0,isRequired:!0,value:"password"}}}},methods:{onSubmit:function(t){var e=this;this.waiting=!0,this.$request.request_url_form(t,function(t,s){if(t)return e.error=!0,e.reset_button(),void e.$auth.user_fail(function(){e.$message.send({isType:"error",title:"error",message:t.message})});e.success=!0,e.reset_button(),e.$message.send({isType:"success",title:"success",message:s.message}),e.$auth.user_success(s.token,function(){setTimeout(function(){e.$router.push("/"),e.$request.set_SecureKey(s.token)},1e3)})})},reset_button:function(){var t=this;setTimeout(function(){t.waiting=!1,t.success=!1,t.error=!1},2e3)}},components:{"c-account-input":E,"c-button":P,"c-panel":p}},W={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("c-panel",[s("div",{attrs:{slot:"header"},slot:"header"},[t._v("\n\t\tAccount Register\n\t")]),t._v(" "),s("form",{staticClass:"form",attrs:{action:"/api/account/create",method:"POST"},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[s("c-account-input",{attrs:{Input:t.AccountInfo}}),t._v(" "),s("c-button",{class:{"is-loading":t.waiting,"is-success":t.success,"is-error":t.error}},[t._v("\n\t\t\t\tCreate\n\t\t\t")])],1),t._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("div",[s("p",[t._v("\n\t\t\t\tAlready have an account, \n\t\t\t\t"),s("router-link",{attrs:{to:"/login"}},[t._v("login?")])],1)]),t._v(" "),s("div",[s("p",[t._v("\n\t\t\t\tTry a\n\t\t\t\t"),s("router-link",{attrs:{to:"/demo"}},[t._v("demo?")])],1)])])])},staticRenderFns:[]};var X=s("VU/8")(z,W,!1,function(t){s("2OIH")},null,null).exports,Z={name:"cTransactionInput",data:function(){return{type:"--",input_waiting:!1,input_success:!1,input_error:!1}},computed:{contentSign:function(){return this.input.sign>0},contentState:function(){return this.input.display}},methods:{reset:function(){this.$refs.task.value="",this.$refs.options.value=""},onClick:function(){this.input.display=!1},reset_button:function(){var t=this;setTimeout(function(){t.input_waiting=!1,t.input_success=!1,t.input_error=!1},1500)},onSubmit:function(t){var e=this;this.input_waiting=!0,this.$request.request_url_form(t,function(t,s){if(e.reset_button(),t)return console.log("error"),console.log(t),e.input_error=!0,void e.$message.send({isType:"error",title:"error",message:t.message});e.input_success=!0,e.reset(),setTimeout(function(){e.$root.$emit("itemChanged")},750)})}},components:{"c-button":P,"c-panel":p}},G={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("c-panel",{attrs:{no_split:!0}},[s("div",{attrs:{slot:"header"},slot:"header"}),t._v(" "),s("form",{staticClass:"form",attrs:{action:"/api/task/create",method:"POST"},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[s("div",{staticClass:"field row-tight"},[s("input",{ref:"task",staticClass:"input-margin input-note1 text-bold text",attrs:{type:"string",name:"task",placeholder:"task"}})]),t._v(" "),s("div",{staticClass:"field row-tight"},[s("input",{ref:"options",staticClass:"input-margin input-note1 text-bold text",attrs:{type:"string",name:"options",placeholder:"Options eg #home #new #done"}}),t._v(" "),s("c-button",{class:{"is-loading":t.input_waiting,"is-success":t.input_success,"is-error":t.input_error},attrs:{type:"submit"}},[t._v("\n\t\t\t\t\tAdd\n\t\t\t")])],1)])])},staticRenderFns:[]};var Y={name:"Index",data:function(){return{}},computed:{isLoggedIn:function(){return void 0!==this.$auth.session&&this.$auth.session.active}},components:{"transactions-input":s("VU/8")(Z,G,!1,function(t){s("R+mv")},"data-v-4192c693",null).exports}},tt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this.isLoggedIn?e("div",[e("transactions-input")],1):e("div",[e("div",[this._v(" login please ")])])])},staticRenderFns:[]};var et=s("VU/8")(Y,tt,!1,function(t){s("jidM")},"data-v-6ea656a0",null).exports,st={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("Error 404")])},staticRenderFns:[]};var nt=s("VU/8")({name:"Missing",data:function(){return{msg:"Welcome to Your Vue.js App"}}},st,!1,function(t){s("Jfnq")},"data-v-a7397ca2",null).exports;n.a.use(C.a);var it=new C.a({mode:"history",routes:[{path:"/",name:"Index",component:et},{path:"/about",name:"About",component:k},{path:"/login",name:"Login",component:V},{path:"/demo",name:"LoginDemo",component:H},{path:"/logout",name:"Logout",component:Q},{path:"/register",name:"Register",component:X},{path:"/account",name:"Account",component:F},{path:"/*",name:"Missing",component:nt}]});function ot(t){if(!1===t)return!1;var e,s={};return e=t.split("."),s.raw=t,s.payload=JSON.parse(window.atob(e[1])),s}function at(t,e){if(dt.active=t,!1===e)return dt.user={},void(dt.token="");dt.user=e.payload,dt.token=e.raw}function rt(){window.localStorage.removeItem("tokenString"),at(!1,!1)}var ut,ct,lt,dt={active:!1,user:{},token:""},pt={session:dt,user_success:function(t,e){var s;return _t(s=t),at(!0,ot(s)),e()},user_fail:function(t){return t()},logout_success:function(t){return rt(),t()},logout_fail:function(t){return rt(),t()}},mt={install:function(t){t.prototype.$auth=pt}};function _t(t){window.localStorage.setItem("tokenString",t)}ut=!1,!1!==(ct=ot(null!==(lt=window.localStorage.getItem("tokenString"))&&lt))&&(ut=!0),at(ut,ct);var vt=s("mvHQ"),ft=s.n(vt),ht={title:"",message:"",isType:"",id:0,progress:-1,finished:!1},gt=0,wt={hasMessages:!1,messageCount:0,messages:[]};function bt(t){t.progress+=16,t.progress>100&&(t.progress=100,t.finished=!0),t.progress<=99&&setTimeout(bt,150,t)}function yt(){wt.messageCount=wt.messages.length,wt.messages.length>0?wt.hasMessages=!0:wt.hasMessages=!1}var Ct={send:function(t){var e=JSON.parse(ft()(ht));if(e.id=gt+1,gt=e.id,void 0!==t.isType||null!==t.isType){var s=t.isType.toLowerCase();e.isType="is-"+s}"is-success"===e.isType&&(e.progress=0,setTimeout(bt,250,e)),e.title=t.title,e.message=t.message,wt.messages.push(e),yt()},remove:function(t){for(var e=0;e<wt.messages.length;e++)if(wt.messages[e].id===t.id){wt.messages.splice(e,1);break}yt()},clear:function(){wt.hasMessages=!1,wt.messageCount=0,wt.messages=[]},session:wt},xt={install:function(t){t.prototype.$message=Ct}};function kt(t,e,s,n,i){var o=new XMLHttpRequest;o.open(e,t,!0),s&&o.setRequestHeader("Content-Type","application/json; charset=UTF-8"),o.setRequestHeader("Authorization","Bearer "+Et()),o.send(n),o.onload=function(){if(this.status>=200&&this.status<300)return i(null,JSON.parse(this.responseText));var t={};try{t=JSON.parse(this.responseText.toString("ascii"))}catch(t){var e=this.statusText;return 0===e.length&&(e="No network connection."),i({status:this.status,message:this.statusText})}return i(t)},o.ontimeout=function(){return i(this.response)},o.onerror=function(){var t=this.statusText;return 0===t.length&&(t="No network connection."),i({status:this.status,message:t})}}var $t="";function St(t){$t=!(t.length<10)&&t}function Et(){return $t}var Tt={request_url:function(t,e){var s={};void 0!=t.body&&(s=t.body),void 0!=t.content&&(s=t.content),kt(t.url,t.method,!1,s,function(t,s){return t?e(t):e(null,s)})},request_url_form:function(t,e){t.preventDefault(),kt(t.target.action,t.target.method,!1,new FormData(t.target),function(t,s){return t?e(t):e(null,s)})},set_SecureKey:St,get_SecureKey:Et},qt={install:function(t){t.prototype.$request=Tt}};var It={items:[],init:!1,start:0,end:20,view:0,header:[],graph:[],scroll:0,day_int:-1,day_max:0,day_pos:[],day_totals:[]};function Rt(){It.items=[],It.init=!1,It.start=0,It.end=20,It.view=0,It.header=[],It.graph=[],It.scroll=0,It.day_int=-1,It.day_max=0,It.day_pos=[],It.day_totals=[];for(var t=0;t<3;t++)It.header.push({daily:0,in:0,out:0,days:0,count:0})}function Nt(){It.init||(It.init=!0)}function Pt(t){for(var e=It.items.length-1;e>=0;e--)if(It.items[e].id===t.id)return!1;return!0}function Dt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return+(Math.round(Number(t)+"e+"+e)+"e-"+e)}function At(){!function(){It.day_pos=[];for(var t=0;t<=It.day_max;t++)It.day_pos.push(Mt)}(),It.day_totals=[];for(var t=0;t<=It.day_max;t++)It.day_totals.push(0);for(var e=0;e<It.items.length;e++){var s=It.items[e].amount*It.items[e].sign;It.day_totals[It.items[e].date_day]+=s}for(var n=0;n<It.day_totals.length;n++)It.day_totals[n]=Dt(It.day_totals[n])}var Mt=999999,Ot=120;var Ft={data:It,add_to_start:function(t){Nt();for(var e=0;e<t.items.length;e++)Pt(s=t.items[e])&&It.items.unshift(s);var s;At()},add_to_end:function(t){Nt();for(var e=0;e<t.items.length;e++)Pt(s=t.items[e])&&It.items.push(s),t.items[e].date_day>It.day_max&&(It.day_max=t.items[e].date_day);var s;At()},get_date_from_today:function(t){var e=new Date;return e.setDate(e.getDate()-t),new Date(e).toISOString().split("T")[0]},set_start:function(t){It.start=t},set_end:function(t){It.end=t},item_update:function(t){for(var e=0;e<It.items.length;e++)if(It.items[e].id===t.items[0].id)return It.items[e].amount=t.items[0].amount,It.items[e].type=t.items[0].type,It.items[e].note=t.items[0].note,It.items[e].date=t.items[0].date,It.items[e].sign=t.items[0].sign,At(),!0;return!1},item_delete:function(t){Nt();for(var e=0;e<It.items.length;e++)if(It.items[e].id===t.items[0].id)return It.items.splice(e,1),At(),!0;return!1},force_clear:function(){Rt()},view_change:function(t){t!==It.view&&(It.view=t)},update_header:function(t){void 0!==t.header&&(It.header=t.header,It.graph=t.graph)},update_scroll:function(t){It.scroll=t,t<50?It.day_int=-1:function(){var t=Mt,e=-1;if(!(It.scroll<50)){for(var s=It.day_pos.length;s>=0;s--){var n=It.scroll-It.day_pos[s]+Ot;n>0&&n<t&&(t=n,e=s)}It.day_int=e}}()},update_elements_pos:function(t,e){var s=e+It.scroll;s<It.day_pos[t]&&(It.day_pos[t]=s)}},Lt={install:function(t){t.prototype.$quid_bg=Ft}};Rt(),n.a.config.productionTip=!1,n.a.use(mt),n.a.use(xt),n.a.use(qt),n.a.use(Lt);new n.a({el:"#app",router:it,data:{},components:{App:y},template:"<App/>"})},"NcW/":function(t,e){},Ql70:function(t,e){},"R+mv":function(t,e){},SvJb:function(t,e){},csC0:function(t,e){},dM7N:function(t,e){},gyhV:function(t,e){},jidM:function(t,e){},oAn0:function(t,e){},oFXQ:function(t,e){},rdCE:function(t,e){},y1xT:function(t,e){},yB1J:function(t,e){},yy6L:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.ec175c0ba39e494fbf3b.js.map